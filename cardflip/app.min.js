"use strict";var table=document.getElementById("cards"),score=document.getElementById("points").lastChild,time=document.getElementById("time").lastChild,matches=document.getElementById("matches").lastChild,counter=setInterval(function(){centiseconds++,time.innerText=getSeconds()+"s"},100),active=[],pairs=0,last=0,points=0,centiseconds=0,row,cell,index,colors=["red","red","yellow","yellow","green","green","blue","blue","orange","orange","purple","purple","brown","brown","pink","pink"];function randomInt(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a))+a}for(row=0;row<table.rows.length;row++)for(cell=0;cell<table.rows[row].cells.length;cell++)index=randomInt(0,colors.length-1),table.rows[row].cells[cell].classList.add(colors[index]),colors.splice(index,1);function getSeconds(){return Math.floor(centiseconds/10)}function activateCard(a){a.classList.add("active"),a.style.background=a.style.color=a.classList[0]}function resetCard(a){a.style.background="black",a.style.color="white",a.classList.remove("active")}function checkMatches(){active[0].classList[0]===active[1].classList[0]?(active[0].classList.add("hidden"),active[1].classList.add("hidden"),pairs++,matches.innerText=pairs,points+=1e3-(centiseconds-last),last=centiseconds,score.innerText=points,8==pairs&&(alert("You win!\nTime: "+getSeconds()+"s\nPoints: "+points),location.reload())):(resetCard(active[0]),resetCard(active[1]),active=[])}function updateActive(a){active.includes(a)?(active.splice(active.indexOf(a),1),resetCard(a)):2>active.length?(active.push(a),activateCard(a),1<active.length&&setTimeout(checkMatches,500)):1<active.length?(active[0].classList.contains("hidden")&&active[1].classList.contains("hidden")&&(resetCard(active[0]),resetCard(active[1])),active=[a],activateCard(a)):(active.push(a),activateCard(a))}alert("You have 80 seconds, go!"),setTimeout(function(){clearTimeout(counter),alert("Time up!\nYou got "+pairs+"/8 matches."),location.reload()},8e4);