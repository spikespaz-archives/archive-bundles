#!/bin/bash

# Maintainer: Jacob Birkett <jacob@birkett.dev>

# shellcheck disable=SC2034
# {
pkgbase='mojave-theme-maia'
pkgname=(
    "$pkgbase-light"
    "$pkgbase-light-solid"
    "$pkgbase-light-alt"
    "$pkgbase-light-alt-solid"
    "$pkgbase-dark"
    "$pkgbase-dark-solid"
    "$pkgbase-dark-alt"
    "$pkgbase-dark-alt-solid"
    "$pkgbase-blackish"
    "$pkgbase-blackish-solid"
    "$pkgbase-blackish-alt"
    "$pkgbase-blackish-alt-solid"
)
pkgver=r452.b4d36a6
pkgrel=1
pkgdesc="A spin of vinceliuice's Mojave theme for GTK with Manjaro Maia colors and a darker variant."
arch=('any')
url='https://github.com/vinceliuice/Mojave-gtk-theme'
license=('GPL3')
depends=()
makedepends=('git' 'meson')
optdepends=(
    'mcmojave-cursors: matching cursor theme'
    'mcmojave-circle-icon-theme: matching icon theme'
)
_clonedir="${url##*/}"
source=("$_clonedir::git+$url.git")
sha256sums=('SKIP')
# }

pkgver() {
    cd "$srcdir/$_clonedir" || exit 1
    printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

prepare() {
    echo "Copy cloned files to '$srcdir/$pkgbase'"
    cp -R "$srcdir/$_clonedir" "$srcdir/$pkgbase"

    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-light"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-light-solid"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-light-alt"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-light-alt-solid"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-dark"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-dark-solid"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-dark-alt"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-dark-alt-solid"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-blackish"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-blackish-solid"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-blackish-alt"
    cp -R "$srcdir/$pkgbase" "$srcdir/$pkgbase-blackish-alt-solid"
}

_build_mojave-theme-maia-light() {
    theme_src="$srcdir/$pkgbase-light"
    theme_dest="$pkgdir/$pkgbase-light/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-light-solid() {
    theme_src="$srcdir/$pkgbase-light-solid"
    theme_dest="$srcdir/$pkgbase-light-solid/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-light-alt() {
    theme_src="$srcdir/$pkgbase-light-alt"
    theme_dest="$srcdir/$pkgbase-light-alt/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-light-alt-solid() {
    theme_src="$srcdir/$pkgbase-light-alt-solid"
    theme_dest="$srcdir/$pkgbase-light-alt-solid/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-dark() {
    theme_src="$srcdir/$pkgbase-dark"
    theme_dest="$srcdir/$pkgbase-dark/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-dark-solid() {
    theme_src="$srcdir/$pkgbase-dark-solid"
    theme_dest="$srcdir/$pkgbase-dark-solid/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-dark-alt() {
    theme_src="$srcdir/$pkgbase-dark-alt"
    theme_dest="$srcdir/$pkgbase-dark-alt/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-dark-alt-solid() {
    theme_src="$srcdir/$pkgbase-dark-alt-solid"
    theme_dest="$srcdir/$pkgbase-dark-alt-solid/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-blackish() {
    theme_src="$srcdir/$pkgbase-blackish"
    theme_dest="$srcdir/$pkgbase-blackish/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-blackish-solid() {
    theme_src="$srcdir/$pkgbase-blackish-solid"
    theme_dest="$srcdir/$pkgbase-blackish-solid/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-blackish-alt() {
    theme_src="$srcdir/$pkgbase-blackish-alt"
    theme_dest="$srcdir/$pkgbase-blackish-alt/build"
    cd theme_src || exit 1
}

_build_mojave-theme-maia-blackish-alt-solid() {
    theme_src="$srcdir/$pkgbase-blackish-alt-solid"
    theme_dest="$srcdir/$pkgbase-blackish-alt-solid/build"
    cd theme_src || exit 1
}

build() {
    _build_mojave-theme-maia-light
    _build_mojave-theme-maia-light-solid
    _build_mojave-theme-maia-light-alt
    _build_mojave-theme-maia-light-alt-solid
    _build_mojave-theme-maia-dark
    _build_mojave-theme-maia-dark-solid
    _build_mojave-theme-maia-dark-alt
    _build_mojave-theme-maia-dark-alt-solid
    _build_mojave-theme-maia-blackish
    _build_mojave-theme-maia-blackish-solid
    _build_mojave-theme-maia-blackish-alt
    _build_mojave-theme-maia-blackish-alt-solid
}

package_mojave-theme-maia-light() {
    cd "$srcdir/$pkgbase-light" || exit 1
}

package_mojave-theme-maia-light-solid() {
    cd "$srcdir/$pkgbase-light-solid" || exit 1
}

package_mojave-theme-maia-light-alt() {
    cd "$srcdir/$pkgbase-light-alt" || exit 1
}

package_mojave-theme-maia-light-alt-solid() {
    cd "$srcdir/$pkgbase-light-alt-solid" || exit 1
}

package_mojave-theme-maia-dark() {
    cd "$srcdir/$pkgbase-dark" || exit 1
}

package_mojave-theme-maia-dark-solid() {
    cd "$srcdir/$pkgbase-dark-solid" || exit 1
}

package_mojave-theme-maia-dark-alt() {
    cd "$srcdir/$pkgbase-dark-alt" || exit 1
}

package_mojave-theme-maia-dark-alt-solid() {
    cd "$srcdir/$pkgbase-dark-alt-solid" || exit 1
}

package_mojave-theme-maia-blackish() {
    cd "$srcdir/$pkgbase-blackish" || exit 1
}

package_mojave-theme-maia-blackish-solid() {
    cd "$srcdir/$pkgbase-blackish-solid" || exit 1
}

package_mojave-theme-maia-blackish-alt() {
    cd "$srcdir/$pkgbase-blackish-alt" || exit 1
}

package_mojave-theme-maia-blackish-alt-solid() {
    cd "$srcdir/$pkgbase-blackish-alt-solid" || exit 1
}
